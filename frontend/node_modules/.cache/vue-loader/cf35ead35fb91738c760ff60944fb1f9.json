{"remainingRequest":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/src/components/MainMenu.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/src/components/MainMenu.vue","mtime":1667614531124},{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1667614525458},{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/babel-loader/lib/index.js","mtime":1667614525329},{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1667614525458},{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1667614530728}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBmaXJlYmFzZUFwcCBmcm9tICcuLi9maXJlYmFzZS5qcyc7CmltcG9ydCB7Y29sbGVjdGlvbiwgZ2V0RG9jc30gZnJvbSAiZmlyZWJhc2UvZmlyZXN0b3JlIjsKaW1wb3J0IHsgZ2V0RmlyZXN0b3JlIH0gZnJvbSAiZmlyZWJhc2UvZmlyZXN0b3JlIgppbXBvcnQge2dldEF1dGgsIG9uQXV0aFN0YXRlQ2hhbmdlZH0gZnJvbSAnZmlyZWJhc2UvYXV0aCc7CmltcG9ydCB7IGRvYywgc2V0RG9jfSBmcm9tICJmaXJlYmFzZS9maXJlc3RvcmUiOwpjb25zdCBkYiA9IGdldEZpcmVzdG9yZShmaXJlYmFzZUFwcCk7CmNvbnN0IGF1dGggPSBnZXRBdXRoKCk7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnbWFpbm1lbnUnLAoJZGF0YTogKCkgPT4gKHsKCQltZW51OiBbXSwKCX0pLAoJYXN5bmMgbW91bnRlZCgpIHsKCQkvL2F3YWl0IHRoaXMuZ2V0QWxsKCk7CgkJb25BdXRoU3RhdGVDaGFuZ2VkKGF1dGgsIGFzeW5jICh1c2VyKT0+ewoJCWlmICh1c2VyKSB7CgkJCXRoaXMudXNlcj11c2VyOwoJCQlhd2FpdCB0aGlzLmdldEFsbCgpOwoJCX0KCQl9KQoJfSwKICAgIG1ldGhvZHM6IHsKCQlhc3luYyBnZXRBbGwoKSB7CgkJCXRyeSB7CgkJCQkvL1RPRE8tLT5wYWdpbmF0aW9uCgkJCQljb25zdCBtZW51UmVmID0gY29sbGVjdGlvbihkYiwgIm1lbnUiKSAvL3JlZnJlbmNlIHRoZSBjb2xsZWN0aW9uCgkJCQljb25zdCBxID0gYXdhaXQgZ2V0RG9jcyhtZW51UmVmKSAvL2dldCBhbGwgZG9jcyBpbiBjb2xsZWN0aW9uCgkJCQlxLmZvckVhY2goKGRvYykgPT4gewoJCQkJCXRoaXMubWVudSA9IFsuLi50aGlzLm1lbnUsIGRvYy5kYXRhKCksIF0gLy9wdXNoIHRvIG1lbnUgYXJyYXkKCQkJCX0pOwoJCQkJY29uc29sZS5sb2codGhpcy5tZW51KQoJCQl9IGNhdGNoIChlKSB7CgkJCQljb25zb2xlLmxvZyhlKTsKCQkJfQoJCX0sCiAgICAgICAgYXN5bmMgYWRkVG9DYXJ0KGJ1cmdlcikgewoJCQl0cnkgewoJCQkJY29uc29sZS5sb2coYCR7YnVyZ2VyLm5hbWV9IGFkZGVkIHRvIGNhcnRgKQoJCQkJY29uc3Qgb3JkZXIgPSB7CgkJCQkJbmFtZTogYnVyZ2VyLm5hbWUsCgkJCQkJcHJpY2U6IGJ1cmdlci5wcmljZSwKCQkJCQlhbW91bnQ6IDEKCQkJCX0KCQkJCWNvbnN0IGRvY1JlZiA9IGF3YWl0IHNldERvYyhkb2MoZGIsIFN0cmluZyhhdXRoLmN1cnJlbnRVc2VyLmVtYWlsKSwgYnVyZ2VyLm5hbWUpLG9yZGVyKQoJCQkJYWxlcnQoIkFkZCB0byBjYXJ0IHN1Y2Nlc3NmdWxseSEiKQoJCQkJY29uc29sZS5sb2coZG9jUmVmKQoJCQl9IGNhdGNoIChlKSB7CgkJCQkvLyBzdGF0ZW1lbnRzCgkJCQljb25zb2xlLmxvZyhlKTsKCQkJfSAKICAgICAgICB9LAoJfSwKfQo="},{"version":3,"sources":["/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/src/components/MainMenu.vue"],"names":[],"mappings":";AAqBA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACxC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACtD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAChD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACzD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC/C,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAA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","file":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/src/components/MainMenu.vue","sourceRoot":"","sourcesContent":["<template>\n  <section class=\"menu section bd-container\" id=\"home\">\n\n<div>\n    <h2 class=\"section-title\">Burger Menu</h2>\n    <div class=\"menu\">\n        <div class=\"menu_content\" v-for=\"burger in menu\" :key=\"burger.name\">\n            <img :src=\"burger.imageAddress\" alt=\"\" class=\"menu_img\">\n            <h3 class=\"menu_name\">{{burger.name}}</h3>\n            <span class=\"menu_price\">${{burger.price}}</span>\n\t\t\t<br>\n            <button @click=\"addToCart(burger)\" class=\"menu_button\">\n                Add To Cart\n\t\t\t</button>\n        </div>\n    </div>\n</div>\n</section>\n</template>\n\n<script>\nimport firebaseApp from '../firebase.js';\nimport {collection, getDocs} from \"firebase/firestore\";\nimport { getFirestore } from \"firebase/firestore\"\nimport {getAuth, onAuthStateChanged} from 'firebase/auth';\nimport { doc, setDoc} from \"firebase/firestore\";\nconst db = getFirestore(firebaseApp);\nconst auth = getAuth();\n\nexport default {\n    name: 'mainmenu',\n\tdata: () => ({\n\t\tmenu: [],\n\t}),\n\tasync mounted() {\n\t\t//await this.getAll();\n\t\tonAuthStateChanged(auth, async (user)=>{\n\t\tif (user) {\n\t\t\tthis.user=user;\n\t\t\tawait this.getAll();\n\t\t}\n\t\t})\n\t},\n    methods: {\n\t\tasync getAll() {\n\t\t\ttry {\n\t\t\t\t//TODO-->pagination\n\t\t\t\tconst menuRef = collection(db, \"menu\") //refrence the collection\n\t\t\t\tconst q = await getDocs(menuRef) //get all docs in collection\n\t\t\t\tq.forEach((doc) => {\n\t\t\t\t\tthis.menu = [...this.menu, doc.data(), ] //push to menu array\n\t\t\t\t});\n\t\t\t\tconsole.log(this.menu)\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e);\n\t\t\t}\n\t\t},\n        async addToCart(burger) {\n\t\t\ttry {\n\t\t\t\tconsole.log(`${burger.name} added to cart`)\n\t\t\t\tconst order = {\n\t\t\t\t\tname: burger.name,\n\t\t\t\t\tprice: burger.price,\n\t\t\t\t\tamount: 1\n\t\t\t\t}\n\t\t\t\tconst docRef = await setDoc(doc(db, String(auth.currentUser.email), burger.name),order)\n\t\t\t\talert(\"Add to cart successfully!\")\n\t\t\t\tconsole.log(docRef)\n\t\t\t} catch (e) {\n\t\t\t\t// statements\n\t\t\t\tconsole.log(e);\n\t\t\t} \n        },\n\t},\n}\n</script>\n\n<style scoped>\n.menu_content{\n    float: left;\n\tborder-radius: 25px;\n\tborder: 2px solid #a4670c;\n\tmargin: 30px;\n\talign-items: center;\n}\n.menu{\n\ttext-align: center;\n\talign-items: center;\n\tdisplay: flex;\n\tjustify-content: center;\n\tflex-wrap: wrap;\n\n}\n.menu_button{\n\tbackground-color: #c77414;\n\tcolor: white;\n\ttext-align: center;\n\tborder-radius: 12px;\n\tfont-weight: bold;\n\n}\n\n\n</style>\n"]}]}