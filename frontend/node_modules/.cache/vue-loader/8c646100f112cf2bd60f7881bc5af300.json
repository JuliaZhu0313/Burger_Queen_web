{"remainingRequest":"/Users/zhuxiaoxiao/Desktop/Group5_BT3103-2/frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/zhuxiaoxiao/Desktop/Group5_BT3103-2/frontend/src/views/OrderRecords.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/zhuxiaoxiao/Desktop/Group5_BT3103-2/frontend/src/views/OrderRecords.vue","mtime":1668582891182},{"path":"/Users/zhuxiaoxiao/Desktop/Group5_BT3103-2/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1668583024883},{"path":"/Users/zhuxiaoxiao/Desktop/Group5_BT3103-2/frontend/node_modules/babel-loader/lib/index.js","mtime":1668583028072},{"path":"/Users/zhuxiaoxiao/Desktop/Group5_BT3103-2/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1668583024883},{"path":"/Users/zhuxiaoxiao/Desktop/Group5_BT3103-2/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1668583028011}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBOYXZCYXIgZnJvbSAnQC9jb21wb25lbnRzL05hdkJhci52dWUnCmltcG9ydCBGb290ZXIgZnJvbSAnQC9jb21wb25lbnRzL0Zvb3Rlci52dWUnCmltcG9ydCB7Y29sbGVjdGlvbiwgZ2V0RG9jc30gZnJvbSAiZmlyZWJhc2UvZmlyZXN0b3JlIgppbXBvcnQgeyBnZXRGaXJlc3RvcmUgfSBmcm9tICJmaXJlYmFzZS9maXJlc3RvcmUiCmltcG9ydCB7Z2V0QXV0aCwgb25BdXRoU3RhdGVDaGFuZ2VkfSBmcm9tICdmaXJlYmFzZS9hdXRoJwoKY29uc3QgZGIgPSBnZXRGaXJlc3RvcmUoKTsKY29uc3QgYXV0aCA9IGdldEF1dGgoKTsKCmV4cG9ydCBkZWZhdWx0ewogICAgbmFtZTonT3JkZXJSZWNvcmRzJywKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICB1c2VyOiBmYWxzZSwKICAgICAgICBvcmRlcjogW10sCiAgICAgICAgfQogICAgICAgCiAgfSwKICBhc3luYyBtb3VudGVkKCkgewogICAgb25BdXRoU3RhdGVDaGFuZ2VkKGF1dGgsIGFzeW5jKHVzZXIpPT57CiAgICBpZiAodXNlcikgeyAKICAgICAgICB0aGlzLnVzZXI9dXNlcjsKICAgICAgICBhd2FpdCB0aGlzLmdldEFsbCgpOwogICAgfQogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAgICAgYXN5bmMgZ2V0QWxsKCkgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBjb25zdCBwYXRoMSA9IFN0cmluZyhhdXRoLmN1cnJlbnRVc2VyLmVtYWlsKSArICdfb3JkZXJzJwogICAgICAgICAgICAgIGNvbnN0IG9yZGVyUmVmID0gY29sbGVjdGlvbihkYiwgcGF0aDEpCiAgICAgICAgICAgICAgY29uc3QgYSA9IGF3YWl0IGdldERvY3Mob3JkZXJSZWYpCiAgICAgICAgICAgICAgYS5mb3JFYWNoKChkb2MpID0+IHsKICAgICAgICAgICAgICAgICAgdGhpcy5vcmRlciA9IFsuLi50aGlzLm9yZGVyLCBkb2MuZGF0YSgpLCBdIC8vcHVzaCB0byBvcmRlciBhcnJheQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHRoaXMub3JkZXIuZm9yRWFjaCgoZWxlKSA9PiB7CiAgICAgICAgICAgICAgICBsZXQgZGlzaGVzID0gW10KICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlLm5hbWUubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgZGlzaGVzLnB1c2goe25hbWU6IGVsZS5uYW1lW2ldLCBhbW91bnQ6IGVsZS5hbW91bnRbaV0sIHByaWNlOiBlbGUucHJpY2VbaV19KQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihlbGUsIHtkaXNoZXM6IGRpc2hlc30pCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLm9yZGVyKQogICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgfQogICAgICAgICAgCiAgICB9CiAgfSwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgTmF2QmFyLAogICAgICBGb290ZXIKICAgIH0KfQo="},{"version":3,"sources":["/Users/zhuxiaoxiao/Desktop/Group5_BT3103-2/frontend/src/views/OrderRecords.vue"],"names":[],"mappings":";AAwBA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC3C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC3C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACrD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAChD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;AAExD,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CA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","file":"/Users/zhuxiaoxiao/Desktop/Group5_BT3103-2/frontend/src/views/OrderRecords.vue","sourceRoot":"","sourcesContent":["<template>\n  <NavBar />\n  <div class=\"topnav\">\n    <h1>Order Records</h1>\n  </div>\n\n  <div class=\"order\" v-for=\"item in order\" :key=\"item.date\">\n    {{ item.date.toDate() }}\n    <div class=\"food\"> \n      <div class=\"name\">Dish name</div>\n      <div class=\"amount\">Dish amount</div>\n      <div class=\"price\">Dish price</div>\n    </div>\n    \n    <div class=\"food\" v-for=\"dish in item.dishes\" :key=\"dish\">\n      <div class=\"name\">{{dish.name}}</div>\n      <div class=\"amount\">{{dish.amount}}</div>\n      <div class=\"price\">{{dish.price}}</div>\n    </div>\n  </div>\n  <Footer />\n</template>\n\n<script>\nimport NavBar from '@/components/NavBar.vue'\nimport Footer from '@/components/Footer.vue'\nimport {collection, getDocs} from \"firebase/firestore\"\nimport { getFirestore } from \"firebase/firestore\"\nimport {getAuth, onAuthStateChanged} from 'firebase/auth'\n\nconst db = getFirestore();\nconst auth = getAuth();\n\nexport default{\n    name:'OrderRecords',\n    data() {\n        return {\n        user: false,\n        order: [],\n        }\n       \n  },\n  async mounted() {\n    onAuthStateChanged(auth, async(user)=>{\n    if (user) { \n        this.user=user;\n        await this.getAll();\n    }\n    });\n  },\n  methods: {\n        async getAll() {\n          try {\n              const path1 = String(auth.currentUser.email) + '_orders'\n              const orderRef = collection(db, path1)\n              const a = await getDocs(orderRef)\n              a.forEach((doc) => {\n                  this.order = [...this.order, doc.data(), ] //push to order array\n              });\n              this.order.forEach((ele) => {\n                let dishes = []\n                for (let i = 0; i < ele.name.length; i++) {\n                  dishes.push({name: ele.name[i], amount: ele.amount[i], price: ele.price[i]})\n                }\n                Object.assign(ele, {dishes: dishes})\n              })\n              console.log(this.order)\n          } catch (e) {\n              console.log(e);\n          }\n          \n    }\n  },\n    components: {\n      NavBar,\n      Footer\n    }\n}\n</script>\n\n<style>\n  .topnav {\n  overflow: auto;\n  background-color:#F4EDE5;\n  align-content: center;\n  }\n\n  .order {\n  border-color: #F4EDE5;\n  border-style: solid;\n  border-width: 10px;\n  border-radius: 10%;\n  margin-top: 1.5cm;\n  width: 62%;\n  padding-top: 0.4cm;\n  margin-left: 8cm;\n  }\n\n  .food {\n    display: flex;\n  }\n\n  .name {\n    width: 50%\n  }\n\n  .amount {\n    width: 20%\n  }\n\n  .price {\n    width: 30%\n  }\n</style>\n"]}]}