{"remainingRequest":"/Users/zhangbokai/Desktop/bt3103/Group5_BT3103/frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/zhangbokai/Desktop/bt3103/Group5_BT3103/frontend/src/components/Cart.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/zhangbokai/Desktop/bt3103/Group5_BT3103/frontend/src/components/Cart.vue","mtime":1667893795922},{"path":"/Users/zhangbokai/Desktop/bt3103/Group5_BT3103/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1667893791404},{"path":"/Users/zhangbokai/Desktop/bt3103/Group5_BT3103/frontend/node_modules/babel-loader/lib/index.js","mtime":1667893791293},{"path":"/Users/zhangbokai/Desktop/bt3103/Group5_BT3103/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1667893791404},{"path":"/Users/zhangbokai/Desktop/bt3103/Group5_BT3103/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1667893795572}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgICBpbXBvcnQgZmlyZWJhc2VBcHAgZnJvbSAnLi4vZmlyZWJhc2UuanMnOwogICAgaW1wb3J0IHtjb2xsZWN0aW9uLCBnZXREb2NzfSBmcm9tICJmaXJlYmFzZS9maXJlc3RvcmUiOwogICAgaW1wb3J0IHsgZ2V0RmlyZXN0b3JlLCBkb2MsIHVwZGF0ZURvYyxkZWxldGVEb2N9IGZyb20gImZpcmViYXNlL2ZpcmVzdG9yZSIKICAgIGltcG9ydCB7Z2V0QXV0aCwgb25BdXRoU3RhdGVDaGFuZ2VkfSBmcm9tICdmaXJlYmFzZS9hdXRoJzsKCiAgICBjb25zdCBkYiA9IGdldEZpcmVzdG9yZShmaXJlYmFzZUFwcCk7CglleHBvcnQgZGVmYXVsdCB7CiAgICAgICAgbmFtZTogJ2NhcnQnLAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewoJCWNhcnQ6IFtdLAogICAgICAgIHVzZXI6IGZhbHNlCiAgICB9Cgl9LAoJYXN5bmMgbW91bnRlZCgpIHsKICAgICAgICBjb25zdCBhdXRoID0gZ2V0QXV0aCgpOwogICAgICAgIG9uQXV0aFN0YXRlQ2hhbmdlZChhdXRoLCBhc3luYyAodXNlcik9PnsKICAgICAgICAgICAgaWYgKHVzZXIpIHsgCiAgICAgICAgICAgICAgICB0aGlzLnVzZXI9dXNlcjsKICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZ2V0QWxsKCk7CiAgICAgICAgICAgIH0gCiAgICAgICAgICAgIH0pOwogICAgICAgIC8vYXdhaXQgdGhpcy5nZXRBbGwoKTsKCX0sCgogICAgbWV0aG9kczogewoJCWFzeW5jIGdldEFsbCgpIHsKICAgICAgICAgICAgY29uc3QgYXV0aCA9IGF3YWl0IGdldEF1dGgoKTsKCQkJdHJ5IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGF1dGguY3VycmVudFVzZXIuZW1haWwpCgkJCQljb25zdCBjYXJ0UmVmID0gY29sbGVjdGlvbihkYiwgU3RyaW5nKGF1dGguY3VycmVudFVzZXIuZW1haWwpKSAvL3JlZnJlbmNlIHRoZSBjb2xsZWN0aW9uCgkJCQljb25zdCBxID0gYXdhaXQgZ2V0RG9jcyhjYXJ0UmVmKSAvL2dldCBhbGwgZG9jcyBpbiBjb2xsZWN0aW9uCgkJCQlxLmZvckVhY2goKGRvYykgPT4gewoJCQkJCXRoaXMuY2FydCA9IFsuLi50aGlzLmNhcnQsIGRvYy5kYXRhKCksIF0gLy9wdXNoIHRvIGNhcnQgYXJyYXkKCQkJCX0pOwoJCQkJY29uc29sZS5sb2codGhpcy5jYXJ0KQoJCQl9IGNhdGNoIChlKSB7CgkJCQljb25zb2xlLmxvZyhlKTsKCQkJfQoJCX0sCiAgICAgICAgcGx1cyhpZCl7CiAgICAgICAgICAgIGNvbnN0IGF1dGggPSBnZXRBdXRoKCk7CiAgICAgICAgICAgIHZhciBhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLnZhbHVlCiAgICAgICAgICAgIHRyeXsKICAgICAgICAgICAgICAgIGEgKysKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS52YWx1ZSA9IGEKICAgICAgICAgICAgICAgIGNvbnN0IGRfbWludXM9ewogICAgICAgICAgICAgICAgICAgIGFtb3VudDogYQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdXBkYXRlRG9jKGRvYyhkYiwgU3RyaW5nKGF1dGguY3VycmVudFVzZXIuZW1haWwpLCBpZCksIGRfbWludXMpCiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2FydC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FydFtpXS5uYW1lID09IGlkKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLmNhcnRbaV0uYW1vdW50ICsrCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaChlcnJvcil7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCJFcnJvciBhZGRpbmc6ICAiLCBlcnJvcikKICAgICAgICAgICAgfQoKICAgICAgICB9LAogICAgICAgIG1pbnVzKGlkKXsKICAgICAgICAgICAgY29uc3QgYXV0aCA9IGdldEF1dGgoKTsKICAgICAgICAgICAgdmFyIGEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkudmFsdWUKICAgICAgICAgICAgdHJ5ewogICAgICAgICAgICAgICAgaWYgKGEgPD0gMSkgewogICAgICAgICAgICAgICAgICAgIGEgPSAxCiAgICAgICAgICAgICAgICB9IGVsc2V7CiAgICAgICAgICAgICAgICAgICAgYSAtPTEKICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2FydC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhcnRbaV0ubmFtZSA9PSBpZCl7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FydFtpXS5hbW91bnQgLS0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkudmFsdWUgPSBhCiAgICAgICAgICAgICAgICBjb25zdCBkX3BsdXM9ewogICAgICAgICAgICAgICAgICAgIGFtb3VudDogYQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdXBkYXRlRG9jKGRvYyhkYiwgU3RyaW5nKGF1dGguY3VycmVudFVzZXIuZW1haWwpLCBpZCksIGRfcGx1cykKICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaChlcnJvcil7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCJFcnJvciByZW1vdmluZyBpdGVtISIpCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHN1YnRvdGFsKGFtb3VudCwgcHJpY2UpewogICAgICAgICAgICByZXR1cm4gYW1vdW50ICogcHJpY2UKICAgICAgICB9LAogICAgICAgIG5ld19kZWxldGUoaXRlbSl7CiAgICAgICAgY29uc3QgYXV0aCA9IGdldEF1dGgoKTsKICAgICAgICB0cnl7CiAgICAgICAgICAgIGRlbGV0ZURvYyhkb2MoZGIsIFN0cmluZyhhdXRoLmN1cnJlbnRVc2VyLmVtYWlsKSwgaXRlbSkpCiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jYXJ0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5jYXJ0W2ldLm5hbWUgPT0gaXRlbSl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXJ0LnNwbGljZShpLCAxKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGFsZXJ0KCJEZWxldGUgc3VjY2Vzc2Z1bGx5ISIpCiAgICAgICAgfQogICAgICAgIGNhdGNoKGVycm9yKXsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIkVycm9yIHJlbW92aW5nIGl0ZW0hIikKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgbWFrZV9wYXltZW50KCl7CiAgICAgICAgICAgIGlmICh0aGlzLmNhcnQubGVuZ3RoID09IDApIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCJUaGVyZSdzIG5vdGhpbmcgaW4geW91ciBjYXJ0ISIpCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3BheW1lbnQnKQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKfQo="},{"version":3,"sources":["/Users/zhangbokai/Desktop/bt3103/Group5_BT3103/frontend/src/components/Cart.vue"],"names":[],"mappings":";IAoCI,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACtD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACzE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;IAEzD,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;CACvC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACR,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAChB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACH,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACb,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QACF,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACd;CACH,CAAC;CACD,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACT,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACnC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;gBACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACd,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACvB;YACA,CAAC,CAAC;QACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;CAC5B,CAAC;;IAEE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACX,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;YACL,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;GACrC,CAAC,CAAC,EAAE;gBACS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC9C,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACvF,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC5D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;KAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAA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","file":"/Users/zhangbokai/Desktop/bt3103/Group5_BT3103/frontend/src/components/Cart.vue","sourceRoot":"","sourcesContent":["<template v-if=\"user\">\n<table>\n    <div v-for = \"item in cart\" :key=\"item.name\" class=\"cart1\">\n        <tr>\n            <div class=\"burger\">\n            <td data-th=\"Product\">\n                <div class=\"row\">\n                    <div>\n                        <h4>{{ item.name }}</h4>\n                    </div>\n                </div>\n            </td>\n            <td data-th=\"Price\">${{ item.price }}</td>\n            <td data-th=\"Quantity\">\n                <button class=\"minus\" @click=\"minus(item.name)\" type=\"button\">-</button>\n                <input type=\"number\" :value=\"item.amount\" min=\"1\" :id=\"item.name\">\n                <button  class=\"plus\" @click = \"plus(item.name)\" type=\"button\">+</button>\n            </td>\n            <td data-th=\"Subtotal\" class=\"text-center\">Subtotal: ${{ subtotal(item.amount, item.price) }}</td>\n            <td>\n                <button class=\"delete\" @click=\"new_delete(item.name);\">Delete</button>\n            </td>\n        </div>\n        </tr>\n    </div>\n</table>\n<div class=\"empty_cart\" v-if=\"cart.length==0\">\n    <h2> There's nothing in your shopping cart! </h2>\n</div>\n    <button\n          @click=\"this.$router.push('/menu')\" \n          class=\"button\"><h3>Save and go back to Menu</h3>\n    </button>\n    <button class=\"order\" @click=\"make_payment\" >Make Payment</button>\n</template>\n<script>\n    import firebaseApp from '../firebase.js';\n    import {collection, getDocs} from \"firebase/firestore\";\n    import { getFirestore, doc, updateDoc,deleteDoc} from \"firebase/firestore\"\n    import {getAuth, onAuthStateChanged} from 'firebase/auth';\n\n    const db = getFirestore(firebaseApp);\n\texport default {\n        name: 'cart',\n    data() {\n        return {\n\t\tcart: [],\n        user: false\n    }\n\t},\n\tasync mounted() {\n        const auth = getAuth();\n        onAuthStateChanged(auth, async (user)=>{\n            if (user) { \n                this.user=user;\n                await this.getAll();\n            } \n            });\n        //await this.getAll();\n\t},\n\n    methods: {\n\t\tasync getAll() {\n            const auth = await getAuth();\n\t\t\ttry {\n                console.log(auth.currentUser.email)\n\t\t\t\tconst cartRef = collection(db, String(auth.currentUser.email)) //refrence the collection\n\t\t\t\tconst q = await getDocs(cartRef) //get all docs in collection\n\t\t\t\tq.forEach((doc) => {\n\t\t\t\t\tthis.cart = [...this.cart, doc.data(), ] //push to cart array\n\t\t\t\t});\n\t\t\t\tconsole.log(this.cart)\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e);\n\t\t\t}\n\t\t},\n        plus(id){\n            const auth = getAuth();\n            var a = document.getElementById(id).value\n            try{\n                a ++\n                document.getElementById(id).value = a\n                const d_minus={\n                    amount: a\n                }\n                updateDoc(doc(db, String(auth.currentUser.email), id), d_minus)\n                for (let i = 0; i < this.cart.length; i++) {\n                if (this.cart[i].name == id){\n                    this.cart[i].amount ++\n                }\n            }\n            }\n            catch(error){\n                console.error(\"Error adding:  \", error)\n            }\n\n        },\n        minus(id){\n            const auth = getAuth();\n            var a = document.getElementById(id).value\n            try{\n                if (a <= 1) {\n                    a = 1\n                } else{\n                    a -=1\n                    for (let i = 0; i < this.cart.length; i++) {\n                    if (this.cart[i].name == id){\n                        this.cart[i].amount --\n                    }\n                }\n                }\n                document.getElementById(id).value = a\n                const d_plus={\n                    amount: a\n                }\n                updateDoc(doc(db, String(auth.currentUser.email), id), d_plus)\n            }\n            catch(error){\n                console.error(\"Error removing item!\")\n            }\n        },\n        subtotal(amount, price){\n            return amount * price\n        },\n        new_delete(item){\n        const auth = getAuth();\n        try{\n            deleteDoc(doc(db, String(auth.currentUser.email), item))\n            for (let i = 0; i < this.cart.length; i++) {\n                if (this.cart[i].name == item){\n                    this.cart.splice(i, 1)\n                }\n            }\n            alert(\"Delete successfully!\")\n        }\n        catch(error){\n                console.error(\"Error removing item!\")\n            }\n        },\n        make_payment(){\n            if (this.cart.length == 0) {\n                alert(\"There's nothing in your cart!\")\n            } else {\n                this.$router.push('/payment')\n            }\n        }\n    },\n}\n</script>\n<style scoped>\ntd{\n    padding: 15px;\n}\n.button, .order{\n    background-color: #c77414;\n\tcolor: white;\n  display:block;\n  border-radius: 12px;\n\tfont-weight: bold;\n  font-size: 15px;\n  padding: 15px;\n  width: 40%;\n  margin: auto;\n  margin-bottom: 5px;\n}\n.empty_cart{\n    text-align: center;\n}\n</style>\n"]}]}