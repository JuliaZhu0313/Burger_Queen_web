{"remainingRequest":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/src/components/Payment.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/src/components/Payment.vue","mtime":1667813311090},{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1667813306437},{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/babel-loader/lib/index.js","mtime":1667813306337},{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1667813306437},{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1667813310719}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgaW1wb3J0IE5hdkJhciBmcm9tICdAL2NvbXBvbmVudHMvTmF2QmFyLnZ1ZScKICBpbXBvcnQgZmlyZWJhc2VBcHAgZnJvbSAnLi4vZmlyZWJhc2UuanMnOwogIGltcG9ydCB7Y29sbGVjdGlvbiwgZ2V0RG9jc30gZnJvbSAiZmlyZWJhc2UvZmlyZXN0b3JlIjsKICBpbXBvcnQgeyBnZXRGaXJlc3RvcmUgfSBmcm9tICJmaXJlYmFzZS9maXJlc3RvcmUiCiAgaW1wb3J0IHtnZXRBdXRoLCBvbkF1dGhTdGF0ZUNoYW5nZWR9IGZyb20gJ2ZpcmViYXNlL2F1dGgnOwogIGltcG9ydCB7IGRvYywgc2V0RG9jLGRlbGV0ZURvY30gZnJvbSAiZmlyZWJhc2UvZmlyZXN0b3JlIjsKCiAgY29uc3QgZGIgPSBnZXRGaXJlc3RvcmUoZmlyZWJhc2VBcHApOwogIGNvbnN0IGF1dGggPSBnZXRBdXRoKCk7CiAgZXhwb3J0IGRlZmF1bHQgewogICAgICBuYW1lOiAncGF5bWVudCcsCiAgICAgIGNvbXBvbmVudHM6ewogICAgICAgICAgICBOYXZCYXIsfSwKICBkYXRhKCkgewogICAgICByZXR1cm4gewogICAgICBjYXJ0OiBbXSwKICAgICAgdXNlcjogZmFsc2UsCiAgICAgIHBhaWQ6IGZhbHNlLAogICAgICBvcmRlcjogW10sCiAgICAgIH0KICAgICAKICB9LAogIGFzeW5jIG1vdW50ZWQoKSB7CiAgb25BdXRoU3RhdGVDaGFuZ2VkKGF1dGgsIGFzeW5jICh1c2VyKT0+ewogIGlmICh1c2VyKSB7IAogICAgICB0aGlzLnVzZXI9dXNlcjsKICAgICAgYXdhaXQgdGhpcy5nZXRBbGwoKTsKICAgICAgaWYgKHRoaXMuY2FydC5sZW5ndGggPT0gMCkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvbWVudScpOwogICAgfQogIH0KICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgICAgYXN5bmMgZ2V0QWxsKCkgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBjb25zdCBwYXRoMSA9IFN0cmluZyhhdXRoLmN1cnJlbnRVc2VyLmVtYWlsKSArICdfb3JkZXJzJwogICAgICAgICAgICAgIC8vVE9ETy0tPnBhZ2luYXRpb24KICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhdXRoLmN1cnJlbnRVc2VyLmVtYWlsKQogICAgICAgICAgICAgIGNvbnN0IGNhcnRSZWYgPSBjb2xsZWN0aW9uKGRiLCBTdHJpbmcoYXV0aC5jdXJyZW50VXNlci5lbWFpbCkpIC8vcmVmcmVuY2UgdGhlIGNvbGxlY3Rpb24KICAgICAgICAgICAgICBjb25zdCBxID0gYXdhaXQgZ2V0RG9jcyhjYXJ0UmVmKSAvL2dldCBhbGwgZG9jcyBpbiBjb2xsZWN0aW9uCiAgICAgICAgICAgICAgY29uc3Qgb3JkZXJSZWYgPSBjb2xsZWN0aW9uKGRiLCBwYXRoMSkKICAgICAgICAgICAgICBjb25zdCBhID0gYXdhaXQgZ2V0RG9jcyhvcmRlclJlZikKICAgICAgICAgICAgICAKICAgICAgICAgICAgICBxLmZvckVhY2goKGRvYykgPT4gewogICAgICAgICAgICAgICAgICB0aGlzLmNhcnQgPSBbLi4udGhpcy5jYXJ0LCBkb2MuZGF0YSgpLCBdIC8vcHVzaCB0byBjYXJ0IGFycmF5CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgYS5mb3JFYWNoKChkb2MpID0+IHsKICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygiRGF0YSByZWFkIGlzICIgKyBkb2MuZGF0YSgpKQogICAgICAgICAgICAgICAgICB0aGlzLm9yZGVyID0gWy4uLnRoaXMub3JkZXIsIGRvYy5kYXRhKCksIF0gLy9wdXNoIHRvIG9yZGVyIGFycmF5CiAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coIkRhdGEgcmVhZCBpcyAiICsgZG9jLmRhdGEoKSkKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLm9yZGVyKQogICAgICAgICAgICAgIC8vY29uc29sZS5sb2coImNvbnRlbnQgaW4gb3JkZXIgbGlzdDogIiArIHRoaXMub3JkZXIubGVuZ3RoKQogICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgfQogICAgICB9LAogICAgICBzdWJ0b3RhbChhbW91bnQsIHByaWNlKXsKICAgICAgICAgICAgICByZXR1cm4gYW1vdW50ICogcHJpY2UKICAgICAgICAgIH0sCiAgICAgIHRvdGFsKCl7CiAgICAgICAgICB2YXIgc3VtPTA7CiAgICAgICAgICBmb3IobGV0IGkgPTA7aTx0aGlzLmNhcnQubGVuZ3RoO2krKykKICAgICAgICAgIHsKICAgICAgICAgIAogICAgICAgICAgc3VtICs9IHRoaXMuY2FydFtpXS5hbW91bnQqdGhpcy5jYXJ0W2ldLnByaWNlOwogICAgICAgICAgCiAgICAgICAgICB9CiAgICAgICAgICBjb25zb2xlLmxvZyhzdW0pOwogICAgICAgICAgcmV0dXJuIHN1bTsgCiAgICAgIH0sCiAgICAgIGFzeW5jIG1ha2VfcGF5KCl7CiAgICAgICAgY29uc3QgdW5pcXVlX251bSA9IFN0cmluZyh0aGlzLm9yZGVyLmxlbmd0aCArIDEpCiAgICAgICAgY29uc3QgcGF0aCA9IFN0cmluZyhhdXRoLmN1cnJlbnRVc2VyLmVtYWlsKSArICdfb3JkZXJzJwogICAgICAgIHZhciBuYW1lMSA9IFtdCiAgICAgICAgdmFyIGFtb3VudDEgPSBbXQogICAgICAgIHZhciBwcmljZTEgPSBbXQogICAgICAgIGNvbnN0IGRhdGUxID0gbmV3IERhdGUoKTsKICAgICAgICBjb25zb2xlLmxvZygiY2FydCBsZW5ndGggaXMgOiAiICsgdGhpcy5jYXJ0Lmxlbmd0aCkKICAgICAgICB0cnl7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jYXJ0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBuYW1lMS5wdXNoKHRoaXMuY2FydFtpXS5uYW1lKQogICAgICAgICAgICAgICAgYW1vdW50MS5wdXNoKHRoaXMuY2FydFtpXS5hbW91bnQpCiAgICAgICAgICAgICAgICBwcmljZTEucHVzaCh0aGlzLmNhcnRbaV0ucHJpY2UpCiAgICAgICAgICAgICAgICBhd2FpdCBkZWxldGVEb2MoZG9jKGRiLCBTdHJpbmcoYXV0aC5jdXJyZW50VXNlci5lbWFpbCksIHRoaXMuY2FydFtpXS5uYW1lKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3QgZGF0YSA9IHsKICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUxLAogICAgICAgICAgICAgICAgYW1vdW50OiBhbW91bnQxLAogICAgICAgICAgICAgICAgcHJpY2U6IHByaWNlMSwKICAgICAgICAgICAgICAgIGRhdGU6IGRhdGUxLAogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpCiAgICAgICAgICAgIGF3YWl0IHNldERvYyhkb2MoZGIsIHBhdGgsIHVuaXF1ZV9udW0pLGRhdGEpCiAgICAgICAgICAgIHRoaXMuY2FydC5zcGxpY2UoMCx0aGlzLmNhcnQubGVuZ3RoKQogICAgICAgICAgICBhbGVydCgiUGFpZCBzdWNjZXNzZnVsbHQiKQogICAgICAgICAgICB0aGlzLnBhaWQgPSB0cnVlCiAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgIH0KICAgICAgfQogIH19CiAg"},{"version":3,"sources":["/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/src/components/Payment.vue"],"names":[],"mappings":";EA8CE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC3C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACxC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACtD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAChD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACzD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAA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CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cAClC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cACvF,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cAC5D,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;cACrC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;cAEhC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;kBACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;cAChE,CAAC,CAAC;cACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;kBACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;kBAC1C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;kBAC/D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cAC9C,CAAC,CAAC;cACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,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","file":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/src/components/Payment.vue","sourceRoot":"","sourcesContent":["<template v-if=\"user\">\n  <NavBar />\n    <div class =\"payment\">\n        <h1 class=\"section-title\">Your Order</h1>\n        <table>\n      <div v-for = \"item in cart\" :key=\"item.name\" class=\"cart1\">\n          <tr>\n              <div class=\"burger\">\n              <td data-th=\"Product\">\n                  <div class=\"row\">\n                      <div>\n                          <h4>{{ item.name }}</h4>\n                      </div>\n                  </div>\n              </td>\n              <td data-th=\"Price\">${{ item.price }}</td>\n              <td data-th=\"Quantity\">\n              </td>\n              <td data-th=\"Subtotal\" class=\"text-center\">Subtotal: ${{ subtotal(item.amount, item.price) }}</td>\n              \n              </div>\n          </tr>\n      </div>\n        </table>\n    <div class=\"pay_btn\" v-if=\"paid == false\">\n        <h2 data-th=\"Total\" class=\"text-center\">Total: ${{total()}}</h2>\n        <button @click=\"make_pay\"> Make Payment </button>\n    </div>\n    <div class=\"imagebox\" v-if=\"paid\">\n        <img src=\"@/assets/table.png\">\n        <div class=\"bottom-bar\">\n        <div class = \"first_line\">Successfully Paid!</div>\n        <div class = \"second_line\">We are now preparing your food...please wait</div>\n        <button\n                @click=\"this.$router.push('/order')\" \n                class=\"button\"><h3>Check my order status</h3>\n        </button>\n        </div>\n    </div>\n</div>\n  \n        \n  \n    </template>\n  \n  <script>\n  import NavBar from '@/components/NavBar.vue'\n  import firebaseApp from '../firebase.js';\n  import {collection, getDocs} from \"firebase/firestore\";\n  import { getFirestore } from \"firebase/firestore\"\n  import {getAuth, onAuthStateChanged} from 'firebase/auth';\n  import { doc, setDoc,deleteDoc} from \"firebase/firestore\";\n\n  const db = getFirestore(firebaseApp);\n  const auth = getAuth();\n  export default {\n      name: 'payment',\n      components:{\n            NavBar,},\n  data() {\n      return {\n      cart: [],\n      user: false,\n      paid: false,\n      order: [],\n      }\n     \n  },\n  async mounted() {\n  onAuthStateChanged(auth, async (user)=>{\n  if (user) { \n      this.user=user;\n      await this.getAll();\n      if (this.cart.length == 0) {\n        this.$router.push('/menu');\n    }\n  }\n  });\n  },\n  methods: {\n      async getAll() {\n          try {\n              const path1 = String(auth.currentUser.email) + '_orders'\n              //TODO-->pagination\n              console.log(auth.currentUser.email)\n              const cartRef = collection(db, String(auth.currentUser.email)) //refrence the collection\n              const q = await getDocs(cartRef) //get all docs in collection\n              const orderRef = collection(db, path1)\n              const a = await getDocs(orderRef)\n              \n              q.forEach((doc) => {\n                  this.cart = [...this.cart, doc.data(), ] //push to cart array\n              });\n              a.forEach((doc) => {\n                  //console.log(\"Data read is \" + doc.data())\n                  this.order = [...this.order, doc.data(), ] //push to order array\n                  //console.log(\"Data read is \" + doc.data())\n              });\n              console.log(this.order)\n              //console.log(\"content in order list: \" + this.order.length)\n          } catch (e) {\n              console.log(e);\n          }\n      },\n      subtotal(amount, price){\n              return amount * price\n          },\n      total(){\n          var sum=0;\n          for(let i =0;i<this.cart.length;i++)\n          {\n          \n          sum += this.cart[i].amount*this.cart[i].price;\n          \n          }\n          console.log(sum);\n          return sum; \n      },\n      async make_pay(){\n        const unique_num = String(this.order.length + 1)\n        const path = String(auth.currentUser.email) + '_orders'\n        var name1 = []\n        var amount1 = []\n        var price1 = []\n        const date1 = new Date();\n        console.log(\"cart length is : \" + this.cart.length)\n        try{\n            for (var i = 0; i < this.cart.length; i++) {\n                name1.push(this.cart[i].name)\n                amount1.push(this.cart[i].amount)\n                price1.push(this.cart[i].price)\n                await deleteDoc(doc(db, String(auth.currentUser.email), this.cart[i].name));\n            }\n            const data = {\n                name: name1,\n                amount: amount1,\n                price: price1,\n                date: date1,\n            }\n            console.log(data)\n            await setDoc(doc(db, path, unique_num),data)\n            this.cart.splice(0,this.cart.length)\n            alert(\"Paid successfullt\")\n            this.paid = true\n        } catch(e) {\n            console.log(e);\n        }\n      }\n  }}\n  </script>\n  \n  <style scoped>\n  .payment{\n      text-align: center;\n  }\n  .item{\n      text-align: center;\n  }\n  td{\n      text-align: center;\n      padding: 15px;\n  }\n  .imagebox {\n    position: relative;\n    display: inline-block;\n  }\n  img {\n      width:  600px;\n      background-color:whitesmoke;\n              height: 300px;\n              object-fit: cover;\n              align-items: center;\n              margin-left: auto;\n              margin-right: auto;\n              position: relative;\n              vertical-align: middle;\n              border: 0;\n    border: 3px solid orangered;\n    border-radius: 12px;\n  }\n  .first_line {\n              position: absolute;\n              top: 40px;\n              left: 100px;\n              font-size: 50px;\n              color: orange\n          }\n    \n          .second_line{\n              position: absolute;\n              bottom: 150px;\n              left: 30px;\n              font-size: 25px;\n          }\n  .button {\n      position: absolute;\n      background-color: #c77414;\n      color: white;\n      margin:auto;\n      display:block;\n      border-radius: 12px;\n      font-weight: bold;\n      padding: 10px 40px;\n      bottom: 30px;\n      left: 170px;\n  }\n  </style>"]}]}