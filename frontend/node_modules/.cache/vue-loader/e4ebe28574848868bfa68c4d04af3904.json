{"remainingRequest":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/src/components/Order.vue?vue&type=template&id=5121c764&scoped=true","dependencies":[{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/src/components/Order.vue","mtime":1667614531124},{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1667614525458},{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/babel-loader/lib/index.js","mtime":1667614525329},{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1667614530732},{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1667614525458},{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1667614530728}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQo8TmF2QmFyIC8+DQoNCjxkaXYgY2xhc3MgPSJvcmRlciI+DQogICAgICA8aDEgY2xhc3M9InNlY3Rpb24tdGl0bGUiPkN1cnJlbnQgT25nb2luZyBvcmRlcnM8L2gxPg0KICAgICAgPGRpdiBjbGFzcyA9ICJUaW1lIj4gRm9vZCBpcyBvbiB0aGUgd2F5IA0KICAgICAgICA8aDM+IEVzdGltYXRlZCBBcnJpdmFsIFRpbWUgaXMge3t0aW1lc3RhbXAoKX19IHRvIHt7YWRkTWludXRlcygpfX08L2gzPg0KDQogICAgICA8L2Rpdj4NCiAgICAgIDxkaXYgY2xhc3M9IlJlYzEiPjxoMT5PcmRlciBEZXRhaWxzPC9oMT4NCjx0YWJsZT4NCiAgICA8ZGl2IHYtZm9yID0gIml0ZW0gaW4gY2FydCIgOmtleT0iaXRlbS5uYW1lIiBjbGFzcz0iY2FydDEiPg0KICAgICAgICA8dHI+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJidXJnZXIiPg0KICAgICAgICAgICAgPHRkIGRhdGEtdGg9IlByb2R1Y3QiPg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJvdyI+DQogICAgICAgICAgICAgICAgICAgIDxkaXY+DQogICAgICAgICAgICAgICAgICAgICAgICA8aDQ+e3sgaXRlbS5uYW1lIH19PC9oND4NCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8L3RkPg0KICAgICAgICAgICAgPHRkIGRhdGEtdGg9IlByaWNlIj4ke3sgaXRlbS5wcmljZSB9fTwvdGQ+DQogICAgICAgICAgICA8dGQgZGF0YS10aD0iUXVhbnRpdHkiPlF1YW50aXR5OiB7e2l0ZW0uYW1vdW50fX08L3RkPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvdHI+DQogICAgPC9kaXY+DQo8L3RhYmxlPg0KPC9kaXY+DQo8YnI+PGJyPg0KPGRpdiBjbGFzcz0iUmVjMiI+QWRkcmVzcyBkZXRhaWxzPC9kaXY+DQo8L2Rpdj4NCg0KDQo="},{"version":3,"sources":["/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/src/components/Order.vue"],"names":[],"mappings":"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","file":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/src/components/Order.vue","sourceRoot":"","sourcesContent":["<template v-if=\"user\">\r\n<NavBar />\r\n\r\n<div class =\"order\">\r\n      <h1 class=\"section-title\">Current Ongoing orders</h1>\r\n      <div class = \"Time\"> Food is on the way \r\n        <h3> Estimated Arrival Time is {{timestamp()}} to {{addMinutes()}}</h3>\r\n\r\n      </div>\r\n      <div class=\"Rec1\"><h1>Order Details</h1>\r\n<table>\r\n    <div v-for = \"item in cart\" :key=\"item.name\" class=\"cart1\">\r\n        <tr>\r\n            <div class=\"burger\">\r\n            <td data-th=\"Product\">\r\n                <div class=\"row\">\r\n                    <div>\r\n                        <h4>{{ item.name }}</h4>\r\n                    </div>\r\n                </div>\r\n            </td>\r\n            <td data-th=\"Price\">${{ item.price }}</td>\r\n            <td data-th=\"Quantity\">Quantity: {{item.amount}}</td>\r\n            </div>\r\n        </tr>\r\n    </div>\r\n</table>\r\n</div>\r\n<br><br>\r\n<div class=\"Rec2\">Address details</div>\r\n</div>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\nimport firebaseApp from '../firebase.js';\r\nimport NavBar from '@/components/NavBar.vue'\r\nimport {collection, getDocs} from \"firebase/firestore\";\r\nimport { getFirestore } from \"firebase/firestore\"\r\nimport {getAuth, onAuthStateChanged} from 'firebase/auth';\r\n\r\nconst db = getFirestore(firebaseApp);\r\nconst auth = getAuth();\r\n\r\nexport default {\r\n    name: 'cart',\r\n    components:{\r\n            NavBar\r\n    },\r\ndata() {\r\n    return {\r\n    cart: [],\r\n    user: false\r\n    }\r\n   \r\n},\r\nasync mounted() {\r\nonAuthStateChanged(auth, async(user)=>{\r\nif (user) { \r\n    this.user=user;\r\n    await this.getAll();\r\n}\r\n});\r\n\r\n},\r\n\r\nmethods: {\r\n    async getAll() {\r\n        try {\r\n            //TODO-->pagination\r\n            console.log(auth.currentUser.email)\r\n            const cartRef = collection(db, String(auth.currentUser.email)) //refrence the collection\r\n            const q = await getDocs(cartRef) //get all docs in collection\r\n            q.forEach((doc) => {\r\n                this.cart = [...this.cart, doc.data(), ] //push to cart array\r\n            });\r\n            console.log(this.cart)\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    },\r\n\r\n   timestamp() {\r\n    const today = new Date();\r\n    const time = today.getHours() + \":\" + today.getMinutes();\r\n    const timestamp =  time;\r\n    return timestamp;\r\n  },\r\n  \r\n  addMinutes() {\r\n    const minutes = 20;\r\n    const date=new Date();\r\n    date.setMinutes(date.getMinutes() + minutes);\r\n    const new_time = date.getHours() + \":\" + date.getMinutes();\r\n    return new_time;\r\n},\r\n\r\n\r\n},\r\ncreated(){\r\n\r\n      setTimeout( () => this.$router.push('/arrived'), 5000);\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.order{\r\n text-align: center;\r\n}\r\n.Rec1 {\r\n    position:absolute; \r\n    left:10px;\r\n    height: 300px;\r\n    width: 700px;\r\n    background-color: bisque;\r\n  border: 2px solid green ;\r\n  font-size: 20px;\r\n\r\n}\r\n\r\n.Rec2 {\r\n    position:absolute; \r\n    right:10px;\r\n    font-size: 18px;\r\n    height: 200px;\r\n    width: 500px;\r\n    border: 1px solid green ;\r\n    background-color: burlywood;\r\n    border-radius: 12px;\r\n\r\n}\r\n\r\n\r\n</style>\r\n"]}]}