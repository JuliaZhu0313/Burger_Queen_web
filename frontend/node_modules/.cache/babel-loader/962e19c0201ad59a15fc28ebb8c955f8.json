{"remainingRequest":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/babel-loader/lib/index.js!/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/src/components/Payment.vue?vue&type=template&id=3a0cf106&scoped=true","dependencies":[{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/src/components/Payment.vue","mtime":1667614531124},{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/babel.config.js","mtime":1667614523440},{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1667614525458},{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/babel-loader/lib/index.js","mtime":1667614525329},{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1667614530732},{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1667614525458},{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1667614530728}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB7IHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgcHVzaFNjb3BlSWQgYXMgX3B1c2hTY29wZUlkLCBwb3BTY29wZUlkIGFzIF9wb3BTY29wZUlkIH0gZnJvbSAidnVlIjsKaW1wb3J0IF9pbXBvcnRzXzAgZnJvbSAnQC9hc3NldHMvdGFibGUucG5nJzsKY29uc3QgX3dpdGhTY29wZUlkID0gbiA9PiAoX3B1c2hTY29wZUlkKCJkYXRhLXYtM2EwY2YxMDYiKSwgbiA9IG4oKSwgX3BvcFNjb3BlSWQoKSwgbik7CmNvbnN0IF9ob2lzdGVkXzEgPSB7CiAgY2xhc3M6ICJwYXltZW50Igp9Owpjb25zdCBfaG9pc3RlZF8yID0gLyojX19QVVJFX18qL193aXRoU2NvcGVJZCgoKSA9PiAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaDEiLCB7CiAgY2xhc3M6ICJzZWN0aW9uLXRpdGxlIgp9LCAiWW91ciBPcmRlciIsIC0xIC8qIEhPSVNURUQgKi8pKTsKY29uc3QgX2hvaXN0ZWRfMyA9IHsKICBjbGFzczogImJ1cmdlciIKfTsKY29uc3QgX2hvaXN0ZWRfNCA9IHsKICAiZGF0YS10aCI6ICJQcm9kdWN0Igp9Owpjb25zdCBfaG9pc3RlZF81ID0gewogIGNsYXNzOiAicm93Igp9Owpjb25zdCBfaG9pc3RlZF82ID0gewogICJkYXRhLXRoIjogIlByaWNlIgp9Owpjb25zdCBfaG9pc3RlZF83ID0gewogICJkYXRhLXRoIjogIlF1YW50aXR5Igp9Owpjb25zdCBfaG9pc3RlZF84ID0gewogICJkYXRhLXRoIjogIlN1YnRvdGFsIiwKICBjbGFzczogInRleHQtY2VudGVyIgp9Owpjb25zdCBfaG9pc3RlZF85ID0gewogICJkYXRhLXRoIjogIlRvdGFsIiwKICBjbGFzczogInRleHQtY2VudGVyIgp9Owpjb25zdCBfaG9pc3RlZF8xMCA9IHsKICBjbGFzczogImltYWdlYm94Igp9Owpjb25zdCBfaG9pc3RlZF8xMSA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoKCkgPT4gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImltZyIsIHsKICBzcmM6IF9pbXBvcnRzXzAKfSwgbnVsbCwgLTEgLyogSE9JU1RFRCAqLykpOwpjb25zdCBfaG9pc3RlZF8xMiA9IHsKICBjbGFzczogImJvdHRvbS1iYXIiCn07CmNvbnN0IF9ob2lzdGVkXzEzID0gLyojX19QVVJFX18qL193aXRoU2NvcGVJZCgoKSA9PiAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogIGNsYXNzOiAiZmlyc3RfbGluZSIKfSwgIlN1Y2Nlc3NmdWxseSBQYWlkISIsIC0xIC8qIEhPSVNURUQgKi8pKTsKY29uc3QgX2hvaXN0ZWRfMTQgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKCgpID0+IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCB7CiAgY2xhc3M6ICJzZWNvbmRfbGluZSIKfSwgIldlIGFyZSBub3cgcHJlcGFyaW5nIHlvdXIgZm9vZC4uLnBsZWFzZSB3YWl0IiwgLTEgLyogSE9JU1RFRCAqLykpOwpjb25zdCBfaG9pc3RlZF8xNSA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoKCkgPT4gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImgzIiwgbnVsbCwgIkNoZWNrIG15IG9yZGVyIHN0YXR1cyIsIC0xIC8qIEhPSVNURUQgKi8pKTsKY29uc3QgX2hvaXN0ZWRfMTYgPSBbX2hvaXN0ZWRfMTVdOwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIGNvbnN0IF9jb21wb25lbnRfTmF2QmFyID0gX3Jlc29sdmVDb21wb25lbnQoIk5hdkJhciIpOwogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfTmF2QmFyKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMSwgW19ob2lzdGVkXzIsIF9jcmVhdGVFbGVtZW50Vk5vZGUoInRhYmxlIiwgbnVsbCwgWyhfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJGRhdGEuY2FydCwgaXRlbSA9PiB7CiAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCB7CiAgICAgIGtleTogaXRlbS5uYW1lLAogICAgICBjbGFzczogImNhcnQxIgogICAgfSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInRyIiwgbnVsbCwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzMsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJ0ZCIsIF9ob2lzdGVkXzQsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF81LCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgbnVsbCwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImg0IiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZyhpdGVtLm5hbWUpLCAxIC8qIFRFWFQgKi8pXSldKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJ0ZCIsIF9ob2lzdGVkXzYsICIkIiArIF90b0Rpc3BsYXlTdHJpbmcoaXRlbS5wcmljZSksIDEgLyogVEVYVCAqLyksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInRkIiwgX2hvaXN0ZWRfNywgIlF1YW50aXR5OiAiICsgX3RvRGlzcGxheVN0cmluZyhpdGVtLmFtb3VudCksIDEgLyogVEVYVCAqLyksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInRkIiwgX2hvaXN0ZWRfOCwgIlN1YnRvdGFsOiAkIiArIF90b0Rpc3BsYXlTdHJpbmcoJG9wdGlvbnMuc3VidG90YWwoaXRlbS5hbW91bnQsIGl0ZW0ucHJpY2UpKSwgMSAvKiBURVhUICovKV0pXSldKTsKICB9KSwgMTI4IC8qIEtFWUVEX0ZSQUdNRU5UICovKSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaDIiLCBfaG9pc3RlZF85LCAiVG90YWw6ICQiICsgX3RvRGlzcGxheVN0cmluZygkb3B0aW9ucy50b3RhbCgpKSwgMSAvKiBURVhUICovKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTAsIFtfaG9pc3RlZF8xMSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTIsIFtfaG9pc3RlZF8xMywgX2hvaXN0ZWRfMTQsIF9jcmVhdGVFbGVtZW50Vk5vZGUoImJ1dHRvbiIsIHsKICAgIG9uQ2xpY2s6IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gJGV2ZW50ID0+IHRoaXMuJHJvdXRlci5wdXNoKCcvT3JkZXInKSksCiAgICBjbGFzczogImJ1dHRvbiIKICB9LCBfaG9pc3RlZF8xNildKV0pXSldLCA2NCAvKiBTVEFCTEVfRlJBR01FTlQgKi8pOwp9"},{"version":3,"mappings":";;OA4BOA,UAAwB;;;EAzBxBC,KAAK,EAAE;AAAS;gEACjBC,oBAAyC;EAArCD,KAAK,EAAC;AAAe,GAAC,YAAU;;EAIzBA,KAAK,EAAC;AAAQ;;EACf,SAAO,EAAC;AAAS;;EACZA,KAAK,EAAC;AAAK;;EAMhB,SAAO,EAAC;AAAO;;EACf,SAAO,EAAC;AAAU;;EAElB,SAAO,EAAC,UAAU;EAACA,KAAK,EAAC;;;EAO/B,SAAO,EAAC,OAAO;EAACA,KAAK,EAAC;;;EACrBA,KAAK,EAAC;AAAU;iEACzBC,oBAA8B;EAAzBC,GAAwB,EAAxBH;AAAwB;;EACxBC,KAAK,EAAC;AAAY;iEACrBC,oBAAkD;EAA7CD,KAAK,EAAG;AAAY,GAAC,oBAAkB;iEAC5CC,oBAA6E;EAAxED,KAAK,EAAG;AAAa,GAAC,8CAA4C;iEAGlDC,oBAA8B,YAA1B,uBAAqB;qBAAzBE,WAA8B;;;6DAjCnDC,aAAUC,oBAEZJ,oBAmCM,OAnCNK,UAmCM,GAlCFC,UAAyC,EACzCN,oBAoBQ,mCAnBVO,oBAkBUC,6BAlBYC,UAAI,EAAZC,IAAI;yBAAlBH,oBAkBU;MAlBmBI,GAAG,EAAED,IAAI,CAACE,IAAI;MAAEb,KAAK,EAAC;QAC/CC,oBAeK,aAdDA,oBAaE,OAbFa,UAaE,GAZFb,oBAMK,MANLc,UAMK,GALDd,oBAIM,OAJNe,UAIM,GAHFf,oBAEM,cADFA,oBAAwB,6BAAjBU,IAAI,CAACE,IAAI,wBAI5BZ,oBAA0C,MAA1CgB,UAA0C,EAAtB,GAAC,oBAAGN,IAAI,CAACO,KAAK,kBAClCjB,oBAAqD,MAArDkB,UAAqD,EAA9B,YAAU,oBAAER,IAAI,CAACS,MAAM,kBAE9CnB,oBAAkG,MAAlGoB,UAAkG,EAAvD,aAAW,oBAAGC,iBAAQ,CAACX,IAAI,CAACS,MAAM,EAAET,IAAI,CAACO,KAAK;oCAO/FjB,oBAAgE,MAAhEsB,UAAgE,EAAxB,UAAQ,oBAAED,cAAK,oBACvDrB,oBAUA,OAVAuB,WAUA,GATJC,WAA8B,EAC9BxB,oBAOM,OAPNyB,WAOM,GANJC,WAAkD,EAClDC,WAA6E,EAC7E3B,oBAGS;IAFF4B,OAAK,2CAAOC,OAAO,CAACC,IAAI;IACzB/B,KAAK,EAAC","names":["_imports_0","class","_createElementVNode","src","_hoisted_15","_createVNode","_component_NavBar","_hoisted_1","_hoisted_2","_createElementBlock","_Fragment","$data","item","key","name","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","price","_hoisted_7","amount","_hoisted_8","$options","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","onClick","$router","push"],"sourceRoot":"","sources":["/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/src/components/Payment.vue"],"sourcesContent":["<template v-if=\"user\">\r\n    <NavBar />\r\n  \r\n  <div class =\"payment\">\r\n      <h1 class=\"section-title\">Your Order</h1>\r\n      <table>\r\n    <div v-for = \"item in cart\" :key=\"item.name\" class=\"cart1\">\r\n        <tr>\r\n            <div class=\"burger\">\r\n            <td data-th=\"Product\">\r\n                <div class=\"row\">\r\n                    <div>\r\n                        <h4>{{ item.name }}</h4>\r\n                    </div>\r\n                </div>\r\n            </td>\r\n            <td data-th=\"Price\">${{ item.price }}</td>\r\n            <td data-th=\"Quantity\">Quantity: {{item.amount}}</td>\r\n            \r\n            <td data-th=\"Subtotal\" class=\"text-center\">Subtotal: ${{ subtotal(item.amount, item.price) }}</td>\r\n            \r\n        </div>\r\n        </tr>\r\n        \r\n        </div>\r\n      </table>\r\n      <h2 data-th=\"Total\" class=\"text-center\">Total: ${{total()}}</h2>\r\n      <div class=\"imagebox\">\r\n  <img src=\"@/assets/table.png\">\r\n  <div class=\"bottom-bar\">\r\n    <div class = \"first_line\">Successfully Paid!</div>\r\n    <div class = \"second_line\">We are now preparing your food...please wait</div>\r\n    <button\r\n          @click=\"this.$router.push('/Order')\" \r\n          class=\"button\"><h3>Check my order status</h3>\r\n    </button>\r\n  </div>\r\n</div>\r\n  </div>\r\n\r\n      \r\n\r\n  </template>\r\n\r\n<script>\r\nimport firebaseApp from '../firebase.js';\r\nimport NavBar from '@/components/NavBar.vue'\r\nimport {collection, getDocs} from \"firebase/firestore\";\r\nimport { getFirestore } from \"firebase/firestore\"\r\nimport {getAuth, onAuthStateChanged} from 'firebase/auth';\r\n\r\nconst db = getFirestore(firebaseApp);\r\nconst auth = getAuth();\r\n\r\nexport default {\r\n    name: 'cart',\r\n    components:{\r\n            NavBar\r\n    },\r\ndata() {\r\n    return {\r\n    cart: [],\r\n    user: false\r\n    }\r\n   \r\n},\r\nasync mounted() {\r\nonAuthStateChanged(auth, async(user)=>{\r\nif (user) { \r\n    this.user=user;\r\n    await this.getAll();\r\n}\r\n});\r\n\r\n},\r\n\r\nmethods: {\r\n    async getAll() {\r\n        try {\r\n            //TODO-->pagination\r\n            console.log(auth.currentUser.email)\r\n            const cartRef = collection(db, String(auth.currentUser.email)) //refrence the collection\r\n            const q = await getDocs(cartRef) //get all docs in collection\r\n            q.forEach((doc) => {\r\n                this.cart = [...this.cart, doc.data(), ] //push to cart array\r\n            });\r\n            console.log(this.cart)\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    },\r\n    subtotal(amount, price){\r\n            return amount * price\r\n        },\r\n\r\n    total(){\r\n        var sum=0;\r\n        for(let i =0;i<this.cart.length;i++)\r\n        {\r\n        \r\n        sum += this.cart[i].amount*this.cart[i].price;\r\n        \r\n        }\r\n        console.log(sum);\r\n        return sum;\r\n        \r\n        \r\n    }\r\n\r\n      \r\n    \r\n}}\r\n</script>\r\n\r\n<style scoped>\r\n.payment{\r\n    text-align: center;\r\n\r\n}\r\n.item{\r\n    text-align: center;\r\n}\r\ntd{\r\n    text-align: center;\r\n    padding: 15px;\r\n}\r\n.imagebox {\r\n  position: relative;\r\n  display: inline-block;\r\n}\r\n\r\nimg {\r\n    width:  600px;\r\n    background-color:whitesmoke;\r\n            height: 300px;\r\n            object-fit: cover;\r\n            align-items: center;\r\n            margin-left: auto;\r\n            margin-right: auto;\r\n            position: relative;\r\n            vertical-align: middle;\r\n            border: 0;\r\n  border: 3px solid orangered;\r\n  border-radius: 12px;\r\n}\r\n\r\n.first_line {\r\n            position: absolute;\r\n            top: 40px;\r\n            left: 100px;\r\n            font-size: 50px;\r\n            color: orange\r\n        }\r\n  \r\n        .second_line{\r\n            position: absolute;\r\n            bottom: 150px;\r\n            left: 30px;\r\n            font-size: 25px;\r\n        }\r\n.button {\r\n    position: absolute;\r\n    background-color: #c77414;\r\n\tcolor: white;\r\n    margin:auto;\r\n    display:block;\r\n    border-radius: 12px;\r\n\tfont-weight: bold;\r\n    padding: 10px 40px;\r\n    bottom: 30px;\r\n    left: 170px;\r\n}\r\n\r\n\r\n</style>\r\n"]}]}