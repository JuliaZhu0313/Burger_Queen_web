{"remainingRequest":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/babel-loader/lib/index.js!/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/src/views/OrderRecords.vue?vue&type=template&id=1036424e","dependencies":[{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/src/views/OrderRecords.vue","mtime":1668464183865},{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/babel.config.js","mtime":1668464175625},{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1668464178055},{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/babel-loader/lib/index.js","mtime":1668464177887},{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1668464183421},{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1668464178055},{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1668464183418}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSB9IGZyb20gInZ1ZSI7CmNvbnN0IF9ob2lzdGVkXzEgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogIGNsYXNzOiAidG9wbmF2Igp9LCBbLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImgxIiwgbnVsbCwgIk9yZGVyIFJlY29yZHMiKV0sIC0xIC8qIEhPSVNURUQgKi8pOwpjb25zdCBfaG9pc3RlZF8yID0gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICBjbGFzczogImZvb2QiCn0sIFsvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogIGNsYXNzOiAibmFtZSIKfSwgIkRpc2ggbmFtZSIpLCAvKiNfX1BVUkVfXyovX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogIGNsYXNzOiAiYW1vdW50Igp9LCAiRGlzaCBhbW91bnQiKSwgLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICBjbGFzczogInByaWNlIgp9LCAiRGlzaCBwcmljZSIpXSwgLTEgLyogSE9JU1RFRCAqLyk7CmNvbnN0IF9ob2lzdGVkXzMgPSB7CiAgY2xhc3M6ICJuYW1lIgp9Owpjb25zdCBfaG9pc3RlZF80ID0gewogIGNsYXNzOiAiYW1vdW50Igp9Owpjb25zdCBfaG9pc3RlZF81ID0gewogIGNsYXNzOiAicHJpY2UiCn07CmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgY29uc3QgX2NvbXBvbmVudF9OYXZCYXIgPSBfcmVzb2x2ZUNvbXBvbmVudCgiTmF2QmFyIik7CiAgY29uc3QgX2NvbXBvbmVudF9Gb290ZXIgPSBfcmVzb2x2ZUNvbXBvbmVudCgiRm9vdGVyIik7CiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9OYXZCYXIpLCBfaG9pc3RlZF8xLCAoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRkYXRhLm9yZGVyLCBpdGVtID0+IHsKICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIHsKICAgICAgY2xhc3M6ICJvcmRlciIsCiAgICAgIGtleTogaXRlbS5kYXRlCiAgICB9LCBbX2NyZWF0ZVRleHRWTm9kZShfdG9EaXNwbGF5U3RyaW5nKGl0ZW0uZGF0ZS50b0RhdGUoKSkgKyAiICIsIDEgLyogVEVYVCAqLyksIF9ob2lzdGVkXzIsIChfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoaXRlbS5kaXNoZXMsIGRpc2ggPT4gewogICAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCB7CiAgICAgICAgY2xhc3M6ICJmb29kIiwKICAgICAgICBrZXk6IGRpc2gKICAgICAgfSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzMsIF90b0Rpc3BsYXlTdHJpbmcoZGlzaC5uYW1lKSwgMSAvKiBURVhUICovKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNCwgX3RvRGlzcGxheVN0cmluZyhkaXNoLmFtb3VudCksIDEgLyogVEVYVCAqLyksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzUsIF90b0Rpc3BsYXlTdHJpbmcoZGlzaC5wcmljZSksIDEgLyogVEVYVCAqLyldKTsKICAgIH0pLCAxMjggLyogS0VZRURfRlJBR01FTlQgKi8pKV0pOwogIH0pLCAxMjggLyogS0VZRURfRlJBR01FTlQgKi8pKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfRm9vdGVyKV0sIDY0IC8qIFNUQUJMRV9GUkFHTUVOVCAqLyk7Cn0="},{"version":3,"mappings":";gCAEEA,oBAEM;EAFDC,KAAK,EAAC;AAAQ,iBACjBD,oBAAsB,YAAlB,eAAa;gCAKjBA,oBAIM;EAJDC,KAAK,EAAC;AAAM,iBACfD,oBAAiC;EAA5BC,KAAK,EAAC;AAAM,GAAC,WAAS,gBAC3BD,oBAAqC;EAAhCC,KAAK,EAAC;AAAQ,GAAC,aAAW,gBAC/BD,oBAAmC;EAA9BC,KAAK,EAAC;AAAO,GAAC,YAAU;;EAIxBA,KAAK,EAAC;AAAM;;EACZA,KAAK,EAAC;AAAQ;;EACdA,KAAK,EAAC;AAAO;;;;6DAhBtBC,aAAUC,oBACVC,UAEM,qBAENC,oBAaMC,6BAb4BC,WAAK,EAAbC,IAAI;yBAA9BH,oBAaM;MAbDJ,KAAK,EAAC,OAAO;MAAwBQ,GAAG,EAAED,IAAI,CAACE;0CAC/CF,IAAI,CAACE,IAAI,CAACC,MAAM,MAAK,GACxB,2BAIM,qBAENN,oBAIMC,6BAJ2BE,IAAI,CAACI,MAAM,EAAnBC,IAAI;2BAA7BR,oBAIM;QAJDJ,KAAK,EAAC,MAAM;QAA8BQ,GAAG,EAAEI;UAClDb,oBAAqC,OAArCc,UAAqC,mBAAjBD,IAAI,CAACE,IAAI,kBAC7Bf,oBAAyC,OAAzCgB,UAAyC,mBAAnBH,IAAI,CAACI,MAAM,kBACjCjB,oBAAuC,OAAvCkB,UAAuC,mBAAlBL,IAAI,CAACM,KAAK;;kCAGnCjB,aAAUkB","names":["_createElementVNode","class","_createVNode","_component_NavBar","_hoisted_1","_createElementBlock","_Fragment","$data","item","key","date","toDate","dishes","dish","_hoisted_3","name","_hoisted_4","amount","_hoisted_5","price","_component_Footer"],"sourceRoot":"","sources":["/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/src/views/OrderRecords.vue"],"sourcesContent":["<template>\n  <NavBar />\n  <div class=\"topnav\">\n    <h1>Order Records</h1>\n  </div>\n\n  <div class=\"order\" v-for=\"item in order\" :key=\"item.date\">\n    {{ item.date.toDate() }}\n    <div class=\"food\"> \n      <div class=\"name\">Dish name</div>\n      <div class=\"amount\">Dish amount</div>\n      <div class=\"price\">Dish price</div>\n    </div>\n    \n    <div class=\"food\" v-for=\"dish in item.dishes\" :key=\"dish\">\n      <div class=\"name\">{{dish.name}}</div>\n      <div class=\"amount\">{{dish.amount}}</div>\n      <div class=\"price\">{{dish.price}}</div>\n    </div>\n  </div>\n  <Footer />\n</template>\n\n<script>\nimport NavBar from '@/components/NavBar.vue'\nimport Footer from '@/components/Footer.vue'\nimport {collection, getDocs} from \"firebase/firestore\"\nimport { getFirestore } from \"firebase/firestore\"\nimport {getAuth, onAuthStateChanged} from 'firebase/auth'\n\nconst db = getFirestore();\nconst auth = getAuth();\n\nexport default{\n    name:'OrderRecords',\n    data() {\n        return {\n        user: false,\n        order: [],\n        }\n       \n  },\n  async mounted() {\n    onAuthStateChanged(auth, async(user)=>{\n    if (user) { \n        this.user=user;\n        await this.getAll();\n    }\n    });\n  },\n  methods: {\n        async getAll() {\n          try {\n              const path1 = String(auth.currentUser.email) + '_orders'\n              const orderRef = collection(db, path1)\n              const a = await getDocs(orderRef)\n              a.forEach((doc) => {\n                  this.order = [...this.order, doc.data(), ] //push to order array\n              });\n              this.order.forEach((ele) => {\n                let dishes = []\n                for (let i = 0; i < ele.name.length; i++) {\n                  dishes.push({name: ele.name[i], amount: ele.amount[i], price: ele.price[i]})\n                }\n                Object.assign(ele, {dishes: dishes})\n              })\n              console.log(this.order)\n          } catch (e) {\n              console.log(e);\n          }\n          \n    }\n  },\n    components: {\n      NavBar,\n      Footer\n    }\n}\n</script>\n\n<style>\n  .topnav {\n  overflow: auto;\n  background-color:#F4EDE5;\n  align-content: center;\n  }\n\n  .order {\n  border-color: #F4EDE5;\n  border-style: solid;\n  border-width: 10px;\n  border-radius: 10%;\n  margin-top: 1.5cm;\n  width: 62%;\n  padding-top: 0.4cm;\n  margin-left: 8cm;\n  }\n\n  .food {\n    display: flex;\n  }\n\n  .name {\n    width: 50%\n  }\n\n  .amount {\n    width: 20%\n  }\n\n  .price {\n    width: 30%\n  }\n</style>\n"]}]}