{"remainingRequest":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/babel-loader/lib/index.js!/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/src/components/MainMenu.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/src/components/MainMenu.vue","mtime":1668469953975},{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/babel.config.js","mtime":1668464175625},{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1668464178055},{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/babel-loader/lib/index.js","mtime":1668464177887},{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1668464178055},{"path":"/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1668464183418}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGZpcmViYXNlQXBwIGZyb20gJy4uL2ZpcmViYXNlLmpzJzsKaW1wb3J0IHsgY29sbGVjdGlvbiwgZ2V0RG9jcyB9IGZyb20gImZpcmViYXNlL2ZpcmVzdG9yZSI7CmltcG9ydCB7IGdldEZpcmVzdG9yZSB9IGZyb20gImZpcmViYXNlL2ZpcmVzdG9yZSI7CmltcG9ydCB7IGdldEF1dGgsIG9uQXV0aFN0YXRlQ2hhbmdlZCB9IGZyb20gJ2ZpcmViYXNlL2F1dGgnOwppbXBvcnQgeyBkb2MsIHNldERvYyB9IGZyb20gImZpcmViYXNlL2ZpcmVzdG9yZSI7CmNvbnN0IGRiID0gZ2V0RmlyZXN0b3JlKGZpcmViYXNlQXBwKTsKY29uc3QgYXV0aCA9IGdldEF1dGgoKTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdtYWlubWVudScsCiAgZGF0YTogKCkgPT4gKHsKICAgIG1lbnU6IFtdLAogICAgbWVudV9zaWRlczogW10sCiAgICBtZW51X2JldmVyYWdlczogW10sCiAgICBtZW51X3N3ZWV0czogW10KICB9KSwKICBhc3luYyBtb3VudGVkKCkgewogICAgLy9hd2FpdCB0aGlzLmdldEFsbCgpOwogICAgb25BdXRoU3RhdGVDaGFuZ2VkKGF1dGgsIGFzeW5jIHVzZXIgPT4gewogICAgICBpZiAodXNlcikgewogICAgICAgIHRoaXMudXNlciA9IHVzZXI7CiAgICAgICAgYXdhaXQgdGhpcy5nZXRBbGwoKTsKICAgICAgfQogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBnZXRBbGwoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgLy9UT0RPLS0+cGFnaW5hdGlvbgogICAgICAgIGNvbnN0IG1lbnVSZWYgPSBjb2xsZWN0aW9uKGRiLCAibWVudSIpOyAvL3JlZnJlbmNlIHRoZSBjb2xsZWN0aW9uCiAgICAgICAgY29uc3Qgc2lkZXNSZWYgPSBjb2xsZWN0aW9uKGRiLCAibWVudV9zaWRlcyIpOwogICAgICAgIGNvbnN0IGJldmVyYWdlc1JlZiA9IGNvbGxlY3Rpb24oZGIsICJtZW51X2JldmVyYWdlcyIpOwogICAgICAgIGNvbnN0IHN3ZWV0c1JlZiA9IGNvbGxlY3Rpb24oZGIsICJtZW51X3N3ZWV0cyIpOwogICAgICAgIGNvbnN0IHEgPSBhd2FpdCBnZXREb2NzKG1lbnVSZWYpOyAvL2dldCBhbGwgZG9jcyBpbiBjb2xsZWN0aW9uCiAgICAgICAgY29uc3QgcV9zaWRlcyA9IGF3YWl0IGdldERvY3Moc2lkZXNSZWYpOwogICAgICAgIGNvbnN0IHFfYmV2ZXJhZ2VzID0gYXdhaXQgZ2V0RG9jcyhiZXZlcmFnZXNSZWYpOwogICAgICAgIGNvbnN0IHFfc3dlZXRzID0gYXdhaXQgZ2V0RG9jcyhzd2VldHNSZWYpOwogICAgICAgIHEuZm9yRWFjaChkb2MgPT4gewogICAgICAgICAgdGhpcy5tZW51ID0gWy4uLnRoaXMubWVudSwgZG9jLmRhdGEoKV07IC8vcHVzaCB0byBtZW51IGFycmF5CiAgICAgICAgfSk7CgogICAgICAgIHFfc2lkZXMuZm9yRWFjaChkb2MgPT4gewogICAgICAgICAgdGhpcy5tZW51X3NpZGVzID0gWy4uLnRoaXMubWVudV9zaWRlcywgZG9jLmRhdGEoKV07IC8vcHVzaCB0byBtZW51X3NpZGVzIGFycmF5CiAgICAgICAgfSk7CgogICAgICAgIHFfYmV2ZXJhZ2VzLmZvckVhY2goZG9jID0+IHsKICAgICAgICAgIHRoaXMubWVudV9iZXZlcmFnZXMgPSBbLi4udGhpcy5tZW51X2JldmVyYWdlcywgZG9jLmRhdGEoKV07IC8vcHVzaCB0byBtZW51X2JldmVyYWdlcyBhcnJheQogICAgICAgIH0pOwoKICAgICAgICBxX3N3ZWV0cy5mb3JFYWNoKGRvYyA9PiB7CiAgICAgICAgICB0aGlzLm1lbnVfc3dlZXRzID0gWy4uLnRoaXMubWVudV9zd2VldHMsIGRvYy5kYXRhKCldOyAvL3B1c2ggdG8gbWVudV9zd2VldHMgYXJyYXkKICAgICAgICB9KTsKCiAgICAgICAgY29uc29sZS5sb2codGhpcy5tZW51KTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgYWRkVG9DYXJ0KGJ1cmdlcikgewogICAgICB0cnkgewogICAgICAgIGNvbnNvbGUubG9nKGAke2J1cmdlci5uYW1lfSBhZGRlZCB0byBjYXJ0YCk7CiAgICAgICAgY29uc3Qgb3JkZXIgPSB7CiAgICAgICAgICBuYW1lOiBidXJnZXIubmFtZSwKICAgICAgICAgIHByaWNlOiBidXJnZXIucHJpY2UsCiAgICAgICAgICBhbW91bnQ6IDEKICAgICAgICB9OwogICAgICAgIGNvbnN0IGRvY1JlZiA9IGF3YWl0IHNldERvYyhkb2MoZGIsIFN0cmluZyhhdXRoLmN1cnJlbnRVc2VyLmVtYWlsKSwgYnVyZ2VyLm5hbWUpLCBvcmRlcik7CiAgICAgICAgYWxlcnQoIkFkZCB0byBjYXJ0IHN1Y2Nlc3NmdWxseSEiKTsKICAgICAgICBjb25zb2xlLmxvZyhkb2NSZWYpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgLy8gc3RhdGVtZW50cwogICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":"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","names":["firebaseApp","collection","getDocs","getFirestore","getAuth","onAuthStateChanged","doc","setDoc","db","auth","name","data","menu","menu_sides","menu_beverages","menu_sweets","mounted","user","getAll","methods","menuRef","sidesRef","beveragesRef","sweetsRef","q","q_sides","q_beverages","q_sweets","forEach","console","log","e","addToCart","burger","order","price","amount","docRef","String","currentUser","email","alert"],"sourceRoot":"","sources":["/Users/zhongyitong/Downloads/bt3103/Group5_BT3103/frontend/src/components/MainMenu.vue"],"sourcesContent":["<template>\n  <section class=\"menu section bd-container\" id=\"home\">\n\n<div>\n\t<h2 class=\"section-title\">Burgers</h2>\n    <div class=\"menu\">\n        <div class=\"menu_content\" v-for=\"burger in menu\" :key=\"burger.name\">\n            <img :src=\"burger.imageAddress\" alt=\"\" class=\"menu_img\">\n            <h3 class=\"menu_name\">{{burger.name}}</h3>\n            <span class=\"menu_price\">${{burger.price}}</span>\n\t\t\t<br>\n            <button @click=\"addToCart(burger)\" class=\"menu_button\">\n                Add To Cart\n\t\t\t</button>\n        </div>\n\t</div>\n\t<br>\n\t<h2 class=\"section-title\">Sides</h2>\n\t<div class=\"menu\">\n\t\t<div class=\"menu_content\" v-for=\"side in menu_sides\" :key=\"side.name\">\n            <img :src=\"side.imageAddress\" alt=\"\" class=\"menu_image\">\n            <h3 class=\"menu_name\">{{side.name}}</h3>\n            <span class=\"menu_price\">${{side.price}}</span>\n\t\t\t<br>\n            <button @click=\"addToCart(side)\" class=\"menu_button\">\n                Add To Cart\n\t\t\t</button>\n        </div>\n\t</div>\n\t<h2 class=\"section-title\">Beverages</h2>\n\t<div class=\"menu\">\n\t\t<div class=\"menu_content\" v-for=\"beverage in menu_beverages\" :key=\"beverage.name\">\n            <img :src=\"beverage.imageAddress\" alt=\"\" class=\"menu_image\">\n            <h3 class=\"menu_name\">{{beverage.name}}</h3>\n            <span class=\"menu_price\">${{beverage.price}}</span>\n\t\t\t<br>\n            <button @click=\"addToCart(beverage)\" class=\"menu_button\">\n                Add To Cart\n\t\t\t</button>\n        </div>\n\t</div>\n\t<h2 class=\"section-title\">Sweets</h2>\n\t<div class=\"menu\">\n\t\t<div class=\"menu_content\" v-for=\"sweet in menu_sweets\" :key=\"sweet.name\">\n            <img :src=\"sweet.imageAddress\" alt=\"\" class=\"menu_image\">\n            <h3 class=\"menu_name\">{{sweet.name}}</h3>\n            <span class=\"menu_price\">${{sweet.price}}</span>\n\t\t\t<br>\n            <button @click=\"addToCart(sweet)\" class=\"menu_button\">\n                Add To Cart\n\t\t\t</button>\n        </div>\n\t</div>\n</div>\n</section>\n</template>\n\n<script>\nimport firebaseApp from '../firebase.js';\nimport {collection, getDocs} from \"firebase/firestore\";\nimport { getFirestore } from \"firebase/firestore\"\nimport {getAuth, onAuthStateChanged} from 'firebase/auth';\nimport { doc, setDoc} from \"firebase/firestore\";\nconst db = getFirestore(firebaseApp);\nconst auth = getAuth();\n\nexport default {\n    name: 'mainmenu',\n\tdata: () => ({\n\t\tmenu: [],\n\t\tmenu_sides: [],\n\t\tmenu_beverages: [],\n\t\tmenu_sweets: [],\n\t}),\n\tasync mounted() {\n\t\t//await this.getAll();\n\t\tonAuthStateChanged(auth, async (user)=>{\n\t\tif (user) {\n\t\t\tthis.user=user;\n\t\t\tawait this.getAll();\n\t\t}\n\t\t})\n\t},\n    methods: {\n\t\tasync getAll() {\n\t\t\ttry {\n\t\t\t\t//TODO-->pagination\n\t\t\t\tconst menuRef = collection(db, \"menu\") //refrence the collection\n\t\t\t\tconst sidesRef = collection(db, \"menu_sides\")\n\t\t\t\tconst beveragesRef = collection(db, \"menu_beverages\")\n\t\t\t\tconst sweetsRef = collection(db, \"menu_sweets\")\n\t\t\t\tconst q = await getDocs(menuRef) //get all docs in collection\n\t\t\t\tconst q_sides = await getDocs(sidesRef)\n\t\t\t\tconst q_beverages = await getDocs(beveragesRef)\n\t\t\t\tconst q_sweets = await getDocs(sweetsRef)\n\t\t\t\tq.forEach((doc) => {\n\t\t\t\t\tthis.menu = [...this.menu, doc.data(), ] //push to menu array\n\t\t\t\t});\n\t\t\t\tq_sides.forEach((doc) => {\n\t\t\t\t\tthis.menu_sides = [...this.menu_sides, doc.data(), ] //push to menu_sides array\n\t\t\t\t});\n\t\t\t\tq_beverages.forEach((doc) => {\n\t\t\t\t\tthis.menu_beverages = [...this.menu_beverages, doc.data(), ] //push to menu_beverages array\n\t\t\t\t});\n\t\t\t\tq_sweets.forEach((doc) => {\n\t\t\t\t\tthis.menu_sweets = [...this.menu_sweets, doc.data(), ] //push to menu_sweets array\n\t\t\t\t});\n\t\t\t\tconsole.log(this.menu)\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e);\n\t\t\t}\n\t\t},\n        async addToCart(burger) {\n\t\t\ttry {\n\t\t\t\tconsole.log(`${burger.name} added to cart`)\n\t\t\t\tconst order = {\n\t\t\t\t\tname: burger.name,\n\t\t\t\t\tprice: burger.price,\n\t\t\t\t\tamount: 1\n\t\t\t\t}\n\t\t\t\tconst docRef = await setDoc(doc(db, String(auth.currentUser.email), burger.name),order)\n\t\t\t\talert(\"Add to cart successfully!\")\n\t\t\t\tconsole.log(docRef)\n\t\t\t} catch (e) {\n\t\t\t\t// statements\n\t\t\t\tconsole.log(e);\n\t\t\t} \n        },\n\t},\n}\n</script>\n\n<style scoped>\n.menu_content{\n    float: left;\n\tborder-radius: 25px;\n\tborder: 2px solid #a4670c;\n\tmargin: 2%;\n\talign-items: center;\n}\n.menu{\n\ttext-align: center;\n\talign-items: center;\n\tdisplay: flex;\n\tjustify-content: center;\n\tflex-wrap: wrap;\n\tmargin: 0% 2% 0% 2%;\n}\n.menu_button{\n\tbackground-color: #c77414;\n\tcolor: white;\n\ttext-align: center;\n\tmargin: 4% 4% 4% 4%;\n\tborder-radius: 12px;\n\tborder-color: rgb(102, 102, 102);\n\tborder-style: solid;\n\tborder-width: 1px;\n\tfont-weight: bold;\n\tfont-size: 20px;\n}\n\n.menu_image{\n\twidth:70%;\n}\n.section-title{\n\tfont-size: 40px;\n}\n\n\n</style>\n"]}]}